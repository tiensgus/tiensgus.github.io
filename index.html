<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="startBtn">ğŸ™ï¸ Báº¯t Ä‘áº§u ghi</button>
    <button id="stopBtn" disabled>â¹ï¸ Dá»«ng ghi</button>
    <audio id="audioPlayer" controls></audio>
        

<script>

let mediaRecorder;
let audioChunks = [];

const startBtn = document.getElementById("startBtn");
const stopBtn = document.getElementById("stopBtn");
const audioPlayer = document.getElementById("audioPlayer");

startBtn.onclick = async () => {
  try {
    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
    mediaRecorder = new MediaRecorder(stream);

    audioChunks = [];

    mediaRecorder.ondataavailable = e => {
      if (e.data.size > 0) {
        audioChunks.push(e.data);
      }
    };

    mediaRecorder.onstop = () => {
      const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
      const audioUrl = URL.createObjectURL(audioBlob);
      audioPlayer.src = audioUrl;
    };

    mediaRecorder.start();
    startBtn.disabled = true;
    stopBtn.disabled = false;
    console.log("ğŸ¤ Äang ghi Ã¢m...");
  } catch (err) {
    alert("KhÃ´ng thá»ƒ ghi Ã¢m: " + err.message);
    console.error("Lá»—i khi ghi Ã¢m:", err);
  }
};

stopBtn.onclick = () => {
  mediaRecorder.stop();
  startBtn.disabled = false;
  stopBtn.disabled = true;
  console.log("ğŸ›‘ ÄÃ£ dá»«ng ghi Ã¢m.");
};

//30 phut nam
//https://www.youtube.com/watch?v=L3kBxFRx1dY
//"id": "L3kBxFRx1dY"
//https://www.youtube.com/watch?v=L3kBxFRx1dY&t=1044s

//27 phut nu
//https://www.youtube.com/watch?v=pdm2VIOmXMc
//"id": "pdm2VIOmXMc"

//15 phut nam nu
//https://www.youtube.com/watch?v=HB2F7kRKZcs
//"id": "HB2F7kRKZcs"

</script>
</body>
</html>


